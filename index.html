<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alimentación Renal</title>
    <link rel="stylesheet" href="styles.css?v=8">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
    <header class="main-header">
        <div class="header-content">
            <div class="title-row">
                <!-- Spacer to push title to center -->
                <div class="spacer"></div>

                <h1 data-i18n="title">Alimentación Renal Inteligente</h1>

                <!-- Right Side Actions -->
                <div class="header-actions">
                    <button id="feedback-btn" class="glass-btn" title="Enviar sugerencias">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                            </path>
                        </svg>
                    </button>

                    <div style="position: relative;">
                        <button id="user-btn" class="glass-btn" title="Usuario">
                            <!-- Icon Logged Out -->
                            <svg class="icon-logged-out" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <!-- Icon Logged In (User Check) -->
                            <svg class="icon-logged-in" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" style="display: none;">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                                <polyline points="17 11 19 13 23 9"></polyline>
                            </svg>
                            <!-- Avatar Image -->
                            <img id="user-avatar-img" class="user-avatar-btn" src="" alt="Avatar"
                                style="display: none;">
                        </button>

                        <!-- User Dropdown Menu -->
                        <div class="user-dropdown" id="user-dropdown">
                            <div class="dropdown-item" id="profile-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <span data-i18n="profile">Perfil</span>
                            </div>
                            <div class="dropdown-divider"></div>
                            <div class="dropdown-item text-danger" id="logout-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                    <polyline points="16 17 21 12 16 7"></polyline>
                                    <line x1="21" y1="12" x2="9" y2="12"></line>
                                </svg>
                                <span data-i18n="logout">Cerrar Sesión</span>
                            </div>
                        </div>
                    </div>

                    <div class="custom-select" id="language-select">
                        <div class="select-selected">
                            <img src="https://flagcdn.com/w40/es.png" alt="es" class="flag-img"> Español
                        </div>
                        <div class="select-items select-hide">
                            <div data-value="es"><img src="https://flagcdn.com/w40/es.png" alt="es" class="flag-img">
                                Español</div>
                            <div data-value="en"><img src="https://flagcdn.com/w40/us.png" alt="en" class="flag-img">
                                English</div>
                            <div data-value="de"><img src="https://flagcdn.com/w40/de.png" alt="de" class="flag-img">
                                Deutsch</div>
                            <div data-value="fr"><img src="https://flagcdn.com/w40/fr.png" alt="fr" class="flag-img">
                                Français</div>
                            <div data-value="pt"><img src="https://flagcdn.com/w40/pt.png" alt="pt" class="flag-img">
                                Português</div>
                            <div data-value="ja"><img src="https://flagcdn.com/w40/jp.png" alt="ja" class="flag-img">
                                日本語</div>
                        </div>
                    </div>
                </div>
            </div>

            <p class="subtitle" data-i18n="subtitle">Tu compañera digital para el control nutricional avanzado</p>
            <p class="description" data-i18n="description">
                Bienvenido a la herramienta definitiva para pacientes renais.
                Consulta al instante los valores críticos de tus alimentos (Potasio, Fósforo, Proteínas)
                y toma decisiones informadas para cuidar tu salud renal con precisión milimétrica.
            </p>
        </div>

        <div class="search-container">
            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="search-input" data-i18n-placeholder="searchPlaceholder"
                placeholder="¿Qué vas a comer hoy? (Ej: Manzana, Pollo...)">
        </div>
    </header>

    <!-- Category Filters -->
    <div class="category-filters-container">
        <div id="category-tabs" class="category-tabs">
            <!-- Tabs generated dynamically -->
        </div>
    </div>

    <main class="container">
        <div id="food-grid" class="food-grid">
            <!-- Los alimentos se generarán aquí dinámicamente -->
        </div>
    </main>

    <!-- Modal de Detalles -->
    <div id="food-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <!-- Parte A: Visual -->
                <div class="modal-column column-a">
                    <img id="modal-img" src="" alt="Alimento">
                    <h2 id="modal-name">Nombre del Alimento</h2>
                </div>

                <!-- Parte B: Datos y Cálculo -->
                <div class="modal-column column-b">
                    <div class="input-group">
                        <label for="grams-input" data-i18n="amountLabel">Cantidad (gramos)</label>
                        <input type="number" id="grams-input" placeholder="100" min="0">
                    </div>

                    <div class="nutritional-info">
                        <h3 data-i18n="nutritionalInfo">Información Nutricional</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label" data-i18n="protein">Proteínas</span>
                                <span class="value" id="val-protein">0g</span>
                            </div>
                            <div class="info-item">
                                <span class="label" data-i18n="sugar">Azúcares</span>
                                <span class="value" id="val-sugar">0g</span>
                            </div>
                            <div class="info-item">
                                <span class="label" data-i18n="fat">Grasas</span>
                                <span class="value" id="val-fat">0g</span>
                            </div>
                            <div class="info-item">
                                <span class="label" data-i18n="potassium">Potasio</span>
                                <span class="value" id="val-potassium">0mg</span>
                            </div>
                            <div class="info-item">
                                <span class="label" data-i18n="phosphorus">Fósforo</span>
                                <span class="value" id="val-phosphorus">0mg</span>
                            </div>
                            <div class="info-item">
                                <span class="label" data-i18n="salt">Sal</span>
                                <span class="value" id="val-salt">0g</span>
                            </div>
                            <div class="info-item">
                                <span class="label" data-i18n="calcium">Calcio</span>
                                <span class="value" id="val-calcium">0mg</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal">
        <div class="modal-content feedback-content">
            <span class="close-modal" id="close-feedback">&times;</span>
            <div class="feedback-body">
                <h2 data-i18n="feedbackTitle">Enviar sugerencias</h2>
                <p data-i18n="feedbackDesc">Ayúdanos a mejorar. ¿Qué funcionalidad te gustaría ver?</p>
                <textarea id="feedback-text" class="feedback-textarea" data-i18n-placeholder="feedbackPlaceholder"
                    placeholder="Escribe tu sugerencia aquí..."></textarea>
                <div class="feedback-actions">
                    <button id="cancel-feedback" class="btn-secondary" data-i18n="cancel">Cancelar</button>
                    <button id="send-feedback" class="btn-primary" data-i18n="send">Enviar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content auth-content">
            <span class="close-modal" id="close-auth">&times;</span>
            <div class="auth-body">
                <div class="auth-tabs">
                    <button class="auth-tab active" id="tab-login" data-i18n="loginBtn">Iniciar Sesión</button>
                    <button class="auth-tab" id="tab-register" data-i18n="registerBtn">Registrarse</button>
                </div>

                <h2 id="auth-title" data-i18n="welcomeBack">Bienvenido de nuevo</h2>

                <form id="auth-form" novalidate>
                    <!-- Registration Only Fields Container -->
                    <div id="register-fields" style="display: none;">
                        <div class="input-group-auth">
                            <label for="auth-name" data-i18n="name">Nombre</label>
                            <input type="text" id="auth-name" placeholder="Tu nombre"
                                data-i18n-placeholder="placeholderName">
                        </div>

                        <div class="input-group-auth">
                            <label for="auth-surnames" data-i18n="surnames">Apellidos</label>
                            <input type="text" id="auth-surnames" placeholder="Tus apellidos"
                                data-i18n-placeholder="placeholderSurnames">
                        </div>

                        <div class="input-group-auth">
                            <label for="auth-birthdate" data-i18n="birthdate">Fecha de Nacimiento</label>
                            <input type="date" id="auth-birthdate">
                        </div>

                        <div class="input-group-auth checkbox-group">
                            <input type="checkbox" id="terms-check">
                            <label for="terms-check">
                                <span data-i18n="acceptTerms">He leído y acepto los</span>
                                <button type="button" id="open-terms" class="link-btn" data-i18n="termsLink"
                                    style="display:inline;">Términos y Condiciones</button>
                            </label>
                        </div>
                    </div>

                    <div class="input-group-auth">
                        <label for="auth-email" data-i18n="email">Email</label>
                        <input type="email" id="auth-email" placeholder="ejemplo@email.com" required
                            data-i18n-placeholder="placeholderEmail">
                    </div>

                    <div class="input-group-auth">
                        <label for="auth-password" data-i18n="password">Contraseña</label>
                        <div class="password-wrapper">
                            <input type="password" id="auth-password" placeholder="••••••••" required
                                data-i18n-placeholder="placeholderPassword">
                            <span class="password-toggle-icon"
                                onclick="togglePasswordVisibility('auth-password', this)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </span>
                        </div>
                    </div>

                    <!-- Forgot Password Link -->
                    <div id="forgot-password-link-container" style="text-align: right; margin-bottom: 1rem;">
                        <span id="forgot-password-btn" class="link-btn" data-i18n="forgotPassword"
                            style="cursor: pointer; font-size: 0.9rem; color: var(--primary-color);">¿Olvidaste tu
                            contraseña?</span>
                    </div>

                    <p id="auth-error" class="error-msg"></p>

                    <button type="submit" class="btn-primary btn-block" id="auth-submit"
                        data-i18n="loginBtn">Entrar</button>
                </form>
            </div>

            <!-- Forgot Password REQUEST View -->
            <div id="forgot-password-view" class="auth-body" style="display: none;">
                <h2 data-i18n="forgotPasswordTitle">Recuperar Contraseña</h2>
                <p class="auth-subtitle" data-i18n="forgotPasswordDesc" style="margin-bottom: 1.5rem;">Ingresa tu email
                    y te enviaremos un enlace para restablecerla.</p>

                <form id="forgot-form">
                    <div class="input-group-auth">
                        <label for="forgot-email" data-i18n="email">Email</label>
                        <input type="email" id="forgot-email" placeholder="ejemplo@email.com" required
                            data-i18n-placeholder="placeholderEmail">
                    </div>

                    <p id="forgot-msg" class="success-msg" style="display:none;"></p>
                    <p id="forgot-error" class="error-msg"></p>

                    <button type="submit" class="btn-primary btn-block" data-i18n="sendLink">Enviar enlace</button>
                    <button type="button" id="back-to-login" class="btn-secondary btn-block" data-i18n="backToLogin"
                        style="margin-top: 0.5rem;">Volver</button>
                </form>
            </div>

            <!-- RESET Password View -->
            <div id="reset-password-view" class="auth-body" style="display: none;">
                <h2 data-i18n="resetPasswordTitle">Nueva Contraseña</h2>
                <p class="auth-subtitle" data-i18n="resetPasswordDesc" style="margin-bottom: 1.5rem;">Introduce tu nueva
                    contraseña.</p>

                <form id="reset-form">
                    <div class="input-group-auth">
                        <label for="reset-new-password" data-i18n="newPassword">Nueva Contraseña</label>
                        <div class="password-wrapper">
                            <input type="password" id="reset-new-password" placeholder="••••••••" required
                                data-i18n-placeholder="placeholderPassword">
                            <span class="password-toggle-icon"
                                onclick="togglePasswordVisibility('reset-new-password', this)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </span>
                        </div>
                    </div>

                    <p id="reset-msg" class="success-msg" style="display:none;"></p>
                    <p id="reset-error" class="error-msg"></p>

                    <button type="submit" class="btn-primary btn-block" data-i18n="changePassword">Cambiar
                        Contraseña</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Medical Profile Modal -->
    <div id="medical-modal" class="modal">
        <div class="modal-content auth-content profile-compact-mode" style="max-width: 500px;">
            <span class="close-modal" id="close-medical" style="display:none;">&times;</span>
            <div class="auth-body">
                <h2 id="medical-title" data-i18n="medicalProfileTitle">Perfil Médico</h2>
                <p class="auth-subtitle" data-i18n="medicalProfileDesc" style="margin-bottom: 2rem; color: #64748b;">
                    Complete su perfil para personalizar su experiencia.</p>

                <form id="medical-form">

                    <!-- Personal Data Section -->
                    <div class="profile-section-title" data-i18n="personalData">Datos Personales</div>

                    <div class="input-group-auth user-avatar-section">
                        <div class="avatar-preview-container">
                            <img id="avatar-preview" src="images/default_avatar.png" alt="Avatar Preview">
                            <label for="avatar-input" class="avatar-upload-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path
                                        d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z">
                                    </path>
                                    <circle cx="12" cy="13" r="4"></circle>
                                </svg>
                            </label>
                            <input type="file" id="avatar-input" accept="image/*" style="display: none;">
                        </div>
                        <div class="user-name-display" id="profile-name-display"></div>
                    </div>


                    <div class="personal-data-grid">
                        <div class="input-group-auth">
                            <label for="profile-name" data-i18n="name">Nombre</label>
                            <input type="text" id="profile-name" data-i18n-placeholder="placeholderName"
                                placeholder="Tu nombre" required>
                        </div>

                        <div class="input-group-auth">
                            <label for="profile-surnames" data-i18n="surnames">Apellidos</label>
                            <input type="text" id="profile-surnames" data-i18n-placeholder="placeholderSurnames"
                                placeholder="Tus apellidos" required>
                        </div>

                        <div class="input-group-auth">
                            <label for="profile-birthdate" data-i18n="birthdate">Fecha de Nacimiento</label>
                            <input type="date" id="profile-birthdate" required>
                        </div>

                        <div class="input-group-auth" id="profile-email-group">
                            <label for="profile-email" data-i18n="email">Email</label>
                            <input type="email" id="profile-email" readonly
                                style="background: #f1f5f9; cursor: not-allowed;">
                        </div>

                        <div class="input-group-auth" id="profile-password-group">
                            <label for="profile-password" data-i18n="password">Contraseña</label>
                            <div class="password-wrapper">
                                <input type="password" id="profile-password" data-i18n-placeholder="placeholderPassword"
                                    placeholder="••••••••">
                                <span class="password-toggle-icon"
                                    onclick="togglePasswordVisibility('profile-password', this)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="profile-section-title" data-i18n="medicalData" style="margin-top: 2rem;">Datos Médicos
                    </div>

                    <!-- Insufficiency (Toggle) -->
                    <div class="input-group-auth">
                        <label data-i18n="questionInsufficiency"
                            style="display: block; margin-bottom: 0.8rem; font-weight: 500;">¿Tiene insuficiencia
                            renal?</label>
                        <div class="toggle-container">
                            <span data-i18n="no" style="font-weight: 600; font-size: 0.9rem;">No</span>
                            <label class="switch">
                                <input type="checkbox" id="insufficiency-toggle" name="insufficiency">
                                <span class="slider"></span>
                            </label>
                            <span data-i18n="yes"
                                style="color: var(--primary-color); font-weight: 600; font-size: 0.9rem;">Sí</span>
                        </div>
                    </div>

                    <!-- Treatment -->
                    <div class="input-group-auth" id="treatment-group">
                        <label data-i18n="questionTreatment"
                            style="display: block; margin-bottom: 0.8rem; font-weight: 500;">Tratamiento</label>
                        <div class="custom-select auth-custom-select" id="treatment-select">
                            <input type="hidden" id="treatment-type-hidden">
                            <div class="select-selected" id="treatment-selected-text" data-i18n="selectOption">
                                Seleccione una opción</div>
                            <div class="select-items select-hide">
                                <div data-value="dialysis" data-i18n="dialysis">Diálisis</div>
                                <div data-value="transplant" data-i18n="transplant">Trasplante</div>
                                <div data-value="erca" data-i18n="erca">ERCA</div>
                            </div>
                        </div>
                    </div>

                    <!-- Kidney Stage -->
                    <div class="input-group-auth" id="stage-group">
                        <label data-i18n="questionStage"
                            style="display: block; margin-bottom: 0.8rem; font-weight: 500;">Estadio de la enfermedad
                            renal</label>
                        <div class="stage-grid">
                            <!-- Items will be styled with CSS tooltips -->
                            <label class="stage-card" data-tooltip="TFG ≥ 90">
                                <input type="radio" name="kidney_stage" value="1">
                                <div class="stage-content">
                                    <span class="stage-name" data-i18n="stage1">Estadio 1</span>
                                </div>
                            </label>
                            <label class="stage-card" data-tooltip="TFG 60-89">
                                <input type="radio" name="kidney_stage" value="2">
                                <div class="stage-content">
                                    <span class="stage-name" data-i18n="stage2">Estadio 2</span>
                                </div>
                            </label>
                            <label class="stage-card" data-tooltip="TFG 45-59">
                                <input type="radio" name="kidney_stage" value="3a">
                                <div class="stage-content">
                                    <span class="stage-name" data-i18n="stage3a">Estadio 3A</span>
                                </div>
                            </label>
                            <label class="stage-card" data-tooltip="TFG 30-48">
                                <input type="radio" name="kidney_stage" value="3b">
                                <div class="stage-content">
                                    <span class="stage-name" data-i18n="stage3b">Estadio 3b</span>
                                </div>
                            </label>
                            <label class="stage-card" data-tooltip="TFG 15-29">
                                <input type="radio" name="kidney_stage" value="4">
                                <div class="stage-content">
                                    <span class="stage-name" data-i18n="stage4">Estadio 4</span>
                                </div>
                            </label>
                            <label class="stage-card" data-tooltip="TFG < 15">
                                <input type="radio" name="kidney_stage" value="5">
                                <div class="stage-content">
                                    <span class="stage-name" data-i18n="stage5">Estadio 5</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="error-msg" id="medical-error"></div>
                    <div class="modal-footer-actions" style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button type="button" id="cancel-medical" class="btn-secondary" data-i18n="cancel"
                            style="display:none; flex: 1;">Cancelar</button>
                        <button type="submit" id="save-medical" class="btn-primary" data-i18n="saveBtn"
                            style="flex: 1;">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div id="terms-modal" class="modal">
        <div class="modal-content legal-content">
            <span class="close-modal" id="close-terms">&times;</span>
            <div class="auth-body" style="height: 100%; display: flex; flex-direction: column;">
                <h2 data-i18n="termsTitle">Términos y Condiciones</h2>
                <div class="legal-text-container" id="terms-content">
                    <!-- Dynamic Content -->
                </div>
                <button type="button" class="btn-primary btn-block" id="accept-terms-btn"
                    data-i18n="closeBtn">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Chat Widget -->
    <div id="chat-widget" class="chat-widget">
        <div class="chat-window" id="chat-window">
            <div class="chat-header">
                <h3>Asistente Renal</h3>
                <button class="close-chat" onclick="toggleChat()">×</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message ai-message">
                    Hola, soy tu asistente virtual. ¿Tienes dudas sobre si puedes comer algún alimento con tu condición
                    actual?
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="Pregunta sobre algún alimento..."
                    onkeypress="handleChatKey(event)">
                <button onclick="sendChatMessage()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                        stroke="currentColor" style="width: 20px; height: 20px;">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M6 12 3.269 3.126A59.768 59.768 0 0 1 21.485 12 59.77 59.77 0 0 1 3.27 20.876L5.999 12Zm0 0h7.5" />
                    </svg>
                </button>
            </div>
        </div>
        <div class="chat-bubble" onclick="toggleChat()" title="Asistente IA">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z" />
            </svg>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>